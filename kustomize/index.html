<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.46" />
    <meta name="description" content="This is the keleustes kustomize POC page">
<meta name="author" content="Keleustes Team">

    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <title>Kustomize :: KELEUSTES&#39;s Blog</title>

    
    <link href="/css/nucleus.css?1558710861" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1558710861" rel="stylesheet">
    <link href="/css/hybrid.css?1558710861" rel="stylesheet">
    <link href="/css/featherlight.min.css?1558710861" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1558710861" rel="stylesheet">
    <link href="/css/auto-complete.css?1558710861" rel="stylesheet">
    <link href="/css/theme.css?1558710861" rel="stylesheet">
    <link href="/css/hugo-theme.css?1558710861" rel="stylesheet">
    
      <link href="/css/theme-keleustes.css?1558710861" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1558710861"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/kustomize/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="">
<svg id="grav-logo" width="100%" height="100%" viewBox="110 125 225 125" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" >
<style type="text/css">
	.st0{fill:#1B75BC;stroke:#1B75BC;stroke-width:4;stroke-miterlimit:10;}
	.st1{fill:#FFFFFF;stroke:#1B75BC;stroke-width:0.25;stroke-miterlimit:10;}
</style>
<g>
	<path class="st1" d="M120.78,221.22c0,1.66-0.04,1.93,1.5,2.42c0.57,0.18,0.97,0.58,0.97,1.21c0,1.3-1.46,1.39-1.63,1.39h-12.5
		c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42
		c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.46-1.39,1.63-1.39h12.5c0.18,0,1.63,0.09,1.63,1.39c0,0.63-0.4,1.03-0.97,1.21
		c-1.55,0.49-1.5,0.76-1.5,2.42V221.22z M137.44,221.36c0.4,0.99,0.53,1.75,1.55,2.24c0.66,0.31,1.06,0.58,1.06,1.44
		c0,1.3-1.46,1.21-2.34,1.21h-11.09c-1.02,0-2.34,0-2.34-1.39c0-1.48,1.81-1.21,1.81-2.2c0-0.36-0.22-1.03-0.35-1.35l-2.74-8.35
		c-0.27-0.85-0.57-1.8-0.57-2.74s0.49-1.53,1.02-2.29l5.13-7.41c0.62-0.85,1.15-1.75,1.15-2.83c0-1.21-0.62-1.84-1.68-2.29
		c-0.71-0.31-1.37-0.49-1.37-1.39c0-1.39,1.24-1.35,2.16-1.35h7.55c1.06,0,2.34,0.04,2.34,1.48c0,1.03-0.84,1.35-1.63,1.66
		c-3.05,1.17-4.06,2.87-5.92,5.43l-0.84,1.17L137.44,221.36z"/>
	<path class="st1" d="M159.53,226.92c-3.49,0-6.19-0.05-9.23-1.75c-3.98-2.24-4.51-3.95-4.51-6.2V197.7c0-1.66,0.04-1.93-1.5-2.42
		c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.46-1.39,1.63-1.39h12.5c0.18,0,1.63,0.09,1.63,1.39c0,0.63-0.4,1.03-0.97,1.21
		c-1.55,0.49-1.5,0.76-1.5,2.42v21.59c0,0.45-0.4,4,2.92,4.98V226.92z M167.44,199.76c-0.71-5.61-3.53-3.86-3.53-5.79
		c0-1.39,1.81-1.3,2.3-1.3h5.04c0.49,0,2.3-0.09,2.3,1.3c0,1.93-2.83,0.18-3.53,5.79v16.93c-0.35,7.41-5.61,10.1-8.48,10.15v-2.65
		c4.06-1.26,5.66-3.59,5.92-7.59V199.76z"/>
	<path class="st1" d="M189.7,226.25h-11.88c-0.31,0-1.41-0.09-1.41-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42
		V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.1-1.39,1.41-1.39h11.88V226.25z M191.69,192.67h1.37
		c2.78,0,5.61,0.04,8.17,1.3c2.74,1.39,4.33,3.73,4.33,6.91c0,4.94-4.06,7.23-8.35,7.9v0.09c4.9,0.81,8.79,3.01,8.79,8.62
		c0,3.19-1.37,5.7-4.15,7.27c-2.83,1.62-5.61,1.48-8.75,1.48h-1.41v-2.6c2.96-0.14,3.31-1.84,3.31-3.46v-5.79
		c0-2.07-0.49-4-3.31-4.22v-2.6c3.23-0.27,3.31-2.2,3.31-3.86v-4.49c0-1.89-0.66-3.68-3.31-3.95V192.67z"/>
	<path class="st1" d="M211.4,192.67h11.66v33.58H211.4c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21
		c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21
		C209.76,192.76,211.22,192.67,211.4,192.67z M225.05,192.67h9.85v9.11c0,0.22-0.04,1.08-1.37,1.08c-0.75,0-0.97-0.45-1.19-1.12
		c-1.15-3.64-3.4-5.84-7.29-6.46V192.67z M225.05,207.66c1.86-0.49,2.69-2.24,3.09-3.95c0.22-0.76,0.49-1.48,1.41-1.48
		c1.37,0,1.15,1.62,1.15,1.98v9.7c0,0.36,0.22,1.98-1.15,1.98c-0.93,0-1.19-0.72-1.41-1.48c-0.4-1.71-1.24-3.46-3.09-3.95V207.66z
		 M225.05,223.65c3.58-0.45,6.32-2.92,7.51-6.51c0.31-0.67,0.57-1.39,1.37-1.39c1.41,0,1.28,1.35,1.28,1.53v8.98h-10.16V223.65z"/>
	<path class="st1" d="M251.65,226.25h-11.22c-0.97,0-2.08-0.09-2.08-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42
		V197.7c0-0.67,0.09-1.89-0.75-2.15c-0.88-0.31-1.72-0.45-1.72-1.57c0-1.17,1.1-1.3,1.99-1.3h11.31V226.25z M253.63,192.67
		c7.51-0.09,13.78,5.21,14.31,16.79c0.49,10.55-6.98,16.79-14.31,16.79v-2.6c2.69-0.36,2.83-2.92,2.83-4.62V199.9
		c0-1.71-0.13-4.26-2.83-4.62V192.67z"/>
	<path class="st1" d="M281.78,220.19c0,1.62,0.35,3.5,2.12,4.13v2.6c-7.69-0.23-13.61-7.86-13.61-17.46
		c0-9.65,5.92-17.28,13.61-17.46v2.6c-1.77,0.63-2.12,2.47-2.12,4.08V220.19z M285.89,224.32c1.94-0.58,2.03-2.11,2.03-2.87v-8.08
		c0-0.99-0.04-1.21-1.81-1.53c-0.71-0.18-1.15-0.58-1.15-1.35c0-1.21,1.55-1.26,1.77-1.26h10.56c0.22,0,1.55-0.13,1.55,1.35
		c0,0.76-0.4,1.08-0.8,1.35c-0.93,0.58-0.79,1.12-0.79,1.35v8.89c-3.09,2.83-7.16,4.67-11.35,4.76V224.32z M285.89,192
		c4.64,0.4,7.02,1.66,7.51,1.66c1.33,0,1.19-1.66,2.61-1.66c1.33,0,1.24,1.21,1.24,1.44v10.01c0,0.22,0,1.62-1.37,1.62
		c-1.15,0-1.46-0.85-1.68-1.8c-1.37-5.75-4.73-8.49-8.31-8.66V192z"/>
	<path class="st1" d="M303.29,192.67h11.66v33.58h-11.66c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21
		c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21
		C301.66,192.76,303.12,192.67,303.29,192.67z M316.95,192.67h9.85v9.11c0,0.22-0.04,1.08-1.37,1.08c-0.75,0-0.97-0.45-1.19-1.12
		c-1.15-3.64-3.4-5.84-7.29-6.46V192.67z M316.95,207.66c1.86-0.49,2.69-2.24,3.09-3.95c0.22-0.76,0.49-1.48,1.41-1.48
		c1.37,0,1.15,1.62,1.15,1.98v9.7c0,0.36,0.22,1.98-1.15,1.98c-0.93,0-1.19-0.72-1.41-1.48c-0.4-1.71-1.24-3.46-3.09-3.95V207.66z
		 M316.95,223.65c3.58-0.45,6.32-2.92,7.51-6.51c0.31-0.67,0.57-1.39,1.37-1.39c1.41,0,1.28,1.35,1.28,1.53v8.98h-10.16V223.65z"/>
</g>
</svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1558710861"></script>
<script type="text/javascript" src="/js/auto-complete.js?1558710861"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="/js/search.js?1558710861"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/post/" title="Latest News" class="dd-item 
        
        
        
        ">
      <a href="/post/">
          Latest News
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/kustomize/" title="Kustomize" class="dd-item 
        parent
        active
        
        ">
      <a href="/kustomize/">
          <b>1. </b>Kustomize
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/armada-operator/" title="Armada" class="dd-item 
        
        
        
        ">
      <a href="/armada-operator/">
          <b>2. </b>Armada
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/airship-treasuremap/" title="TreasureMap" class="dd-item 
        
        
        
        ">
      <a href="/airship-treasuremap/">
          <b>3. </b>TreasureMap
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/oslc-operator/" title="LifeCycle Manager" class="dd-item 
        
        
        
        ">
      <a href="/oslc-operator/">
          <b>4. </b>LifeCycle Manager
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cluster-api/" title="Cluster-API" class="dd-item 
        
        
        
        ">
      <a href="/cluster-api/">
          <b>5. </b>Cluster-API
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/kubeadm/" title="Kubeadm" class="dd-item 
        
        
        
        ">
      <a href="/kubeadm/">
          <b>6. </b>Kubeadm
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/argo/" title="Argo" class="dd-item 
        
        
        
        ">
      <a href="/argo/">
          <b>7. </b>Argo
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/about/" title="About KELEUSTES" class="dd-item 
        
        
        
        ">
      <a href="/about/">
          About KELEUSTES
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/keleustes/blog/tree/master/content/kustomize/_index.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            <a href='/'>Keleustes</a> > Kustomize
          
         
          
           
                  </span>
                </div>
                
              </div>
            </div>
            

        
          <div id="chapter">
        
        <div id="body-inner">
          

        


<h1 id="kustomize">Kustomize</h1>

<h2 id="rationale">Rationale</h2>

<ul>
<li>Investigate the feasibility of converting deckhand functions to kustomize.
For that purpose improvments have been made and proposed to the kustomize community.</li>
<li>CRD have been created and added to the underlying Kubernetes Cluster.
Note that using CRDs does not force the Airship architecture to migrate to operator
architecture immediatly.</li>
<li>Some efforts has been spent into getting the OpenAPIV3Schema in the deploy/crds/xxx.yaml
to be as accurate as possible. This helps getting kubectl version syntax verification.
Still the real syntax check will be performed into helmv3 since it verifies the syntax
of the values obtained from layering the &ldquo;override&rdquo; values on top of the &ldquo;default&rdquo; values
provided in the chart.</li>
<li>This is not a &ldquo;replacement&rdquo; for airship deckhand. This POC merely aims
at highlighting the potential advantages and pitfall in going in that
direction.</li>
</ul>

<h2 id="lessons-learned">Lessons Learned</h2>

<h3 id="layering">Layering</h3>

<ul>
<li>TBD</li>
</ul>

<h3 id="substitutions">Substitutions</h3>

<ul>
<li>TBD</li>
</ul>

<h2 id="documentation">Documentation</h2>

<ul>
<li><a href="https://airshipit.readthedocs.io/projects/deckhand/en/latest/" target="_blank">ReadTheDocs</a></li>
<li><a href="https://github.com/keleustes/kustomize/blob/master/README.md" target="_blank">Readme</a></li>
</ul>

<h2 id="associated-git-repos">Associated GIT Repos</h2>

<ul>
<li><a href="https://github.com/keleustes/kustomize" target="_blank">kustomize</a></li>
<li><a href="https://github.com/airshipit/deckhand" target="_blank">airship-deckhand</a></li>
</ul>

<p></p>








<ul class="children children-h3">
	
    
    

	
		
	

	
</ul>

<footer class=" footline" >
	
</footer>

        
            </div> 
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/post/" title="Latest News"> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/armada-operator/" title="Armada" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1558710861"></script>
    <script src="/js/perfect-scrollbar.min.js?1558710861"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1558710861"></script>
    <script src="/js/jquery.sticky.js?1558710861"></script>
    <script src="/js/featherlight.min.js?1558710861"></script>
    <script src="/js/html5shiv-printshiv.min.js?1558710861"></script>
    <script src="/js/highlight.pack.js?1558710861"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1558710861"></script>
    <script src="/js/learn.js?1558710861"></script>
    <script src="/js/hugo-learn.js?1558710861"></script>

    <link href="/mermaid/mermaid.css?1558710861" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1558710861"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-123357787-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
